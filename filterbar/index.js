Component({properties:{twoStageDataLeft:{type:Object,value:{}},radioData:{type:Object,value:{}},sortData:{type:Object,value:{}},filterData:{type:Object,value:{}},top:{type:String,value:''}},data:{twoStage:false,radio:false,sort:false,filter:false,twoStageDataRight:[],twoStageSelectedLeft:{},twoStageSelectedRight:'',radioSelected:'0',sortSelected:'0',filterSelected:[],selectedArray:[]},methods:{onTwoStageActive(e){this.setData({twoStage:!this.data.twoStage,radio:false,sort:false,filter:false})},onRadioActive(e){this.setData({twoStage:false,radio:!this.data.radio,sort:false,filter:false})},onSortActive(e){this.setData({twoStage:false,radio:false,sort:!this.data.sort,filter:false})},onFilterActive(e){this.setData({twoStage:false,radio:false,sort:false,filter:!this.data.filter})},addUnique2Array(array,args){const _args=args.target?args.target.dataset:args const value=_args.group.value+':'+_args.item.value const label=_args.group.label+':'+_args.item.label let flag=false for(let i=0;i<array.length;i++){const group=value.split(':')[0]const arrayGroup=array[i].value.split(':')[0]if(arrayGroup===group){array[i].value=value array[i].label=label flag=true}}if(!flag){array.push({value:value,label:label})}},onTwoStageLeft(e){const selectedItemValue=e.target.dataset.item.value const selectedItemLabel=e.target.dataset.item.label const rightData=e.target.dataset.item.children this.setData({twoStageDataRight:rightData?rightData:'',twoStageSelectedLeft:{value:selectedItemValue,label:selectedItemLabel},twoStageSelectedRight:'',})if(rightData==null||rightData.length==0){this.closeFilter()this.addUnique2Array(this.data.selectedArray,e)this.triggerEvent('filter',{selectedArray:this.data.selectedArray})}},onTwoStageRight(e){const selectedGroupValue=e.target.dataset.group.value const selectedGroupLabel=e.target.dataset.group.label const selectedItemValue=e.target.dataset.item.value const selectedItemLabel=e.target.dataset.item.label this.closeFilter()this.setData({twoStageSelectedRight:selectedItemValue})this.addUnique2Array(this.data.selectedArray,{group:{value:selectedGroupValue,label:selectedGroupLabel},item:{value:this.data.twoStageSelectedLeft.value+':'+selectedItemValue,label:this.data.twoStageSelectedLeft.label+':'+selectedItemLabel}})this.triggerEvent('filter',{selectedArray:this.data.selectedArray})},onRadio(e){this.closeFilter()this.setData({radioSelected:e.target.dataset.item.value})this.addUnique2Array(this.data.selectedArray,e)this.triggerEvent('filter',{selectedArray:this.data.selectedArray})},onSort(e){this.closeFilter()this.setData({sortSelected:e.target.dataset.item.value})this.addUnique2Array(this.data.selectedArray,e)this.triggerEvent('filter',{selectedArray:this.data.selectedArray})},onFilter(e){this.addUnique2Array(this.data.filterSelected,{group:{value:e.target.dataset.group.value,label:e.target.dataset.group.label},item:{value:e.target.dataset.item.value,label:e.target.dataset.item.label}})this.setData({filterSelected:this.data.filterSelected})this.addUnique2Array(this.data.selectedArray,e)this.triggerEvent('filter',{selectedArray:this.data.selectedArray})},closeFilter(){this.setData({twoStage:false,radio:false,sort:false,filter:false,})},}})